<div class="container spacer">
  <div class="panel panel-infos">
    <div class="panel-body">

      <div class="tab-content">
        <div class="tab-pane active">
          <div class="alert alert-success spacer-leftV2" role="alert" *ngIf="theMessage">
            {{theMessage.theMessage}}
          </div>



          <div *ngIf="userFromAp">
            <div>
              <h3>Vos identifiants terreIyaki</h3>
            </div>
            <table class="table-striped">

              <tr>
                <th>
                  <span class="spacer-right">
                    Login
                  </span>
                </th>
                <th>
                  <span class="spacer-right">
                    Prénom
                  </span>
                </th>
                <th>
                  <span class="spacer-right">
                    Nom
                  </span>
                </th>
              </tr>

              <tr>
                <td>
                  <span class="spacer-right">
                    {{userFromAp.login}}
                  </span>
                </td>
                <td>
                  <span class="spacer-right">
                    {{userFromAp.firstName}}
                  </span>
                </td>
                <td>
                  <span class="spacer-right">
                    {{userFromAp.lastName}}
                  </span>
                </td>
              </tr>
            </table>
          </div>

          <ul class="nav nav-pills">

            <!-- si utilisateur enregistré a terreIyaki -->
            <li *ngIf="userFromAp&&modifier!='true'">
              <a class="active" (click)="modifierProfil()">
                Modifier votre compte
              </a>
            </li>

            <!-- si utilisateur non enregistré a terreIyaki et si on a pas cliqué sur creer -->
            <li *ngIf="!userFromAp&&creer!='true'">
              <a class="active" (click)="creerProfil()">
                Créer votre profil
              </a>
            </li>
          </ul>


          <!-- si utilisateur enregistré a terreIyaki et si on clique sur modifier -->
          <div class="panel panel-infos" *ngIf="userFromAp&&modifier=='true'">
            <div class="panel-heading">Champs à modifier</div>
            <div class="panel-body">
              <form #f="ngForm" (ngSubmit)="modifierUserFromAp(f.value)">
                <div class="form-group">
                  <label class="control-label">login</label>
                  <input class="form-control" type="text" [(ngModel)]="userFromAp.login" name="login" required />
                </div>
                <div class="form-group">
                  <label class="control-label">Nom</label>
                  <input class="form-control" type="text" [(ngModel)]="userFromAp.lastName" name="lastName" required />
                </div>
                <div class="form-group">
                  <label class="control-label">Prénom</label>
                  <input class="form-control" type="text" [(ngModel)]="userFromAp.firstName" name="firstName" required />
                </div>

                <ul class="nav nav-pills">
                  <li>

                    <button class="btn btn-danger spacer-right-top" (click)=annuler()>Annuler
                    </button>
                  </li>
                  <li>
                    <button [disabled]="!f.valid" type="submit" class="btn btn-info spacer-right-top">Enregistrer </button>

                  </li>
                </ul>

              </form>

            </div>
          </div>

          <!-- si utilisateur non enregistré a terreIyaki et si on clique sur creer -->
          <div class="panel panel-infos" *ngIf="!userFromAp&&creer=='true'">
            <div class="panel-heading">Enregistrez-vous</div>
            <div class="panel-body">
              <form #f="ngForm" (ngSubmit)="creerUserFromAp(f.value)">
                <div class="form-group">
                  <label class="control-label">login</label>

                  <input class="form-control" type="text" [(ngModel)]="myUserModel.login" name="login" required />
                </div>
                <div class="form-group">
                  <label class="control-label">Nom</label>
                  <input class="form-control" type="text" [(ngModel)]="myUserModel.lastName" name="lastName" required />
                </div>
                <div class="form-group">
                  <label class="control-label">Prénom</label>
                  <input class="form-control" type="text" [(ngModel)]="myUserModel.firstName" name="firstName" required />
                </div>

                <ul class="nav nav-pills">
                  <li>
                    <button class="btn btn-danger spacer-right-top" (click)=annuler()>Annuler
                    </button>
                  </li>
                  <li>
                    <button [disabled]="!f.valid" type="submit" class="btn btn-info spacer-right-top">Enregistrer</button>
                  </li>
                </ul>

              </form>

            </div>
          </div>

        </div>
      </div>